<Page
    x:Class="GMTool.GMToolPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:GMTool"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

  <Grid x:ConnectionId='2' x:Name="Root">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="300"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>

      <Grid Grid.Column="0" Grid.ColumnSpan="2" Margin="20,0" VerticalAlignment="Top">
      <InfoBar x:ConnectionId='21' x:Name="TopInfoBar" Title="未选择服务器" Message="请选择服务器。" Height="50" IsIconVisible="True" Severity="Warning" IsClosable="False" IsOpen="True">
      </InfoBar>
    </Grid>

    <Grid Grid.Column="0" Margin="10,60,10,10">
      <Grid.RowDefinitions>
        <RowDefinition Height="56"/>
        <RowDefinition Height="*"/>
        <RowDefinition Height="10"/>
      </Grid.RowDefinitions>
      <Grid Grid.Row="0">
        <TextBlock Text="服务器" Style="{StaticResource SubtitleTextBlockStyle}" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10,10"/>
        <Button x:ConnectionId='20' x:Name="BtnResetServer" HorizontalAlignment="Right"                              Visibility="Collapsed" Margin="10,0"/>
        <NavigationViewItemSeparator Margin="10,0" VerticalAlignment="Bottom"></NavigationViewItemSeparator>
      </Grid>
      <ListView x:ConnectionId='17' Grid.Row="1" x:Name="ServersListView" Margin="10,10" CornerRadius="6" Padding="0,2" SelectionMode="Extended" BorderThickness="1" BorderBrush="{ThemeResource SystemControlForegroundBaseLowBrush}"                                                      >
        <ListView.ItemTemplate>
          <DataTemplate>
            <TextBlock Text="{Binding Path=DisplayName}">
              <TextBlock.ContextFlyout>
                <MenuFlyout>
                  <MenuFlyoutItem x:ConnectionId='19' Text="全选" Command="{Binding}" CommandParameter="{Binding}"                                        >
                    <MenuFlyoutItem.Icon>
                      <SymbolIcon Symbol="SelectAll"/>
                    </MenuFlyoutItem.Icon>
                  </MenuFlyoutItem>
                </MenuFlyout>
              </TextBlock.ContextFlyout>
            </TextBlock>
          </DataTemplate>
        </ListView.ItemTemplate>
      </ListView>
    </Grid>

    <Grid Grid.Column="1" Margin="10,60,10,10">
      <Grid.RowDefinitions>
        <RowDefinition Height="56"/>
        <RowDefinition Height="80"/>
        <RowDefinition Height="80"/>
        <RowDefinition Height="80"/>
        <RowDefinition Height="56"/>
        <RowDefinition Height="*"/>
        <RowDefinition Height="10"/>
      </Grid.RowDefinitions>

      <Grid Grid.Row="0">
        <TextBlock Text="命令列表" Style="{StaticResource SubtitleTextBlockStyle}" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10,10"/>
        <SplitButton x:ConnectionId='14' x:Name="BtnResetPlayer" Content="无角色" Margin="10,0" HorizontalAlignment="Right" Visibility="Visible" FontFamily="Assets/JetBrainsMono.ttf#JetBrains Mono"                        >
          <SplitButton.Flyout>
            <MenuFlyout Placement="RightEdgeAlignedBottom">
              <ToggleMenuFlyoutItem x:ConnectionId='15' Text="自动填入角色 ID" FontFamily="Assets/JetBrainsMono.ttf#JetBrains Mono" IsChecked="True" Icon="Edit"                          />
              <MenuFlyoutItem x:ConnectionId='16' Text="刷新当前角色信息" Icon="Refresh"                               />
            </MenuFlyout>
          </SplitButton.Flyout>
        </SplitButton>
        <NavigationViewItemSeparator Margin="10,0" VerticalAlignment="Bottom"></NavigationViewItemSeparator>
      </Grid>

      <Grid Grid.Row="1">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"></ColumnDefinition>
          <ColumnDefinition Width="2*"></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <ComboBox x:ConnectionId='10' Grid.Column="0" Margin="10,10" Header="类别" Visibility="Visible" x:Name="SelectorTypes" PlaceholderText="选择类别" HorizontalAlignment="Stretch" FontFamily="Assets/JetBrainsMono.ttf#JetBrains Mono"                                                    >
          <ComboBox.ItemTemplate>
            <DataTemplate>
              <TextBlock Text="{Binding DisplayName}"></TextBlock>
            </DataTemplate>
          </ComboBox.ItemTemplate>
        </ComboBox>
        <ComboBox x:ConnectionId='11' Grid.Column="1" Margin="10,10" Header="命令" IsEnabled="False" Visibility="Visible" x:Name="SelectorCommands" PlaceholderText="选择命令" HorizontalAlignment="Stretch" FontFamily="Assets/JetBrainsMono.ttf#JetBrains Mono"                                                       >
          <ComboBox.ItemTemplate>
            <DataTemplate>
              <TextBlock Text="{Binding DisplayName}"></TextBlock>
            </DataTemplate>
          </ComboBox.ItemTemplate>
        </ComboBox>
      </Grid>

      <Grid x:ConnectionId='3' x:Name="GridParams" Grid.Row="2">
      </Grid>
      <TextBlock x:ConnectionId='4' x:Name="TextBlockNoParams" Grid.Row="2" Text="（无参数）" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="{ThemeResource SystemControlPageTextBaseMediumBrush}" Margin="10"></TextBlock>

      <Grid Grid.Row="3">
        <TextBox x:ConnectionId='8' Header="编辑命令" x:Name="TextFinalCommand" Margin="10,10,150,10" FontFamily="Assets/JetBrainsMono.ttf#JetBrains Mono" IsSpellCheckEnabled="False" VerticalAlignment="Bottom"                                                                      />
        <Button x:ConnectionId='9' Content="发送" x:Name="BtnSend" IsEnabled="False" Width="120" Style="{StaticResource AccentButtonStyle}" Margin="10,10,10,10" VerticalAlignment="Bottom" HorizontalAlignment="Right"                        ></Button>
      </Grid>

      <Grid Grid.Row="4">
        <TextBlock Text="发送记录" Style="{StaticResource SubtitleTextBlockStyle}" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10,10"/>
        <Button x:ConnectionId='7' x:Name="BtnClearHistory" Content="清除" Margin="10,0" HorizontalAlignment="Right" VerticalAlignment="Center" Visibility="Collapsed"                                ></Button>
        <NavigationViewItemSeparator Margin="10,0" VerticalAlignment="Bottom"></NavigationViewItemSeparator>
      </Grid>

      <Grid Grid.Row="5">
        <ListView x:ConnectionId='5' x:Name="HistoryListView" Margin="10,10" CornerRadius="6" Padding="0,2" SelectionMode="Single" BorderThickness="1" BorderBrush="{ThemeResource SystemControlForegroundBaseLowBrush}"                                                                                                                          >
          <ListView.ItemTemplate>
            <DataTemplate>
              <Grid MinHeight="48">
                <TextBlock Text="{Binding Path=Input}" VerticalAlignment="Top" TextWrapping="NoWrap" TextTrimming="CharacterEllipsis" FontFamily="Assets/JetBrainsMono.ttf#JetBrains Mono" Margin="0,6,40,0"></TextBlock>
                <TextBlock Text="{Binding Path=Output}" VerticalAlignment="Top" TextWrapping="Wrap" FontFamily="Assets/JetBrainsMono.ttf#JetBrains Mono" Margin="0,24,40,8"></TextBlock>
                <TextBlock Text="{Binding Path=Icon}" HorizontalAlignment="Right" VerticalAlignment="Center"/>
              </Grid>
            </DataTemplate>
          </ListView.ItemTemplate>
        </ListView>
      </Grid>
    </Grid>
  </Grid>
</Page>

